<!--
 * @Description: file content
 * @Author: 卢大鹏
 * @Date: 2020-07-10 10:59:57
 * @LastEditors: 卢大鹏
 * @LastEditTime: 2020-07-21 16:52:31
--> 
<body>
    <div id="id">
        divqqqq
    </div>
    <script>  
    
    window.onload = function(){
        setTimeout(()=>{
            document.querySelector('#id').innerHTML='red';
            Promise.resolve().then(()=>{
                var now =Date.now();
                while(Date.now()-now<4000){
                }
                console.log("微任务执行完成")
            })
            var now =Date.now();
            while(Date.now()-now<4000){
            }
            console.log("宏任务执行完成")

        },1000)
    }

    </script>
</body>